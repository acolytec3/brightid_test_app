(this.webpackJsonpbrightidtestingapp=this.webpackJsonpbrightidtestingapp||[]).push([[0],{109:function(e,t){},110:function(e,t,n){"use strict";var a=n(14),r=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))((function(r,s){function o(e){try{i(a.next(e))}catch(t){s(t)}}function c(e){try{i(a.throw(e))}catch(t){s(t)}}function i(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,c)}i((a=a.apply(e,t||[])).next())}))},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=s(n(44));t.putTestingBlock=function(e,t,n,s,c){return r(void 0,void 0,void 0,a.mark((function r(){var i,u;return a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:i=c?c+"/node/v5/testblocks":"https://app.brightid.org/node/v5/testblocks",a.prev=1,a.t0=e,a.next="verification"===a.t0?5:"sponsorship"===a.t0?9:"link"===a.t0?13:17;break;case 5:return a.next=7,o.default.put("".concat(i,"/").concat(n,"/verification/").concat(s),null,{params:{testingKey:t}});case 7:return u=a.sent,a.abrupt("break",18);case 9:return a.next=11,o.default.put("".concat(i,"/").concat(n,"/sponsorship/").concat(s),null,{params:{testingKey:t}});case 11:return u=a.sent,a.abrupt("break",18);case 13:return a.next=15,o.default.put("".concat(i,"/").concat(n,"/link/").concat(s),null,{params:{testingKey:t}});case 15:return u=a.sent,a.abrupt("break",18);case 17:return a.abrupt("return",{});case 18:return console.log(u),a.abrupt("return",u.data);case 22:return a.prev=22,a.t1=a.catch(1),console.log(a.t1.response),a.abrupt("return",{status:a.t1.response.status,statusText:a.t1.response.statusText,data:a.t1.response.data});case 26:case"end":return a.stop()}}),r,null,[[1,22]])})))},t.removeTestingBlock=function(e,t,n,s,c){return r(void 0,void 0,void 0,a.mark((function r(){var i,u;return a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:i=c?c+"/node/v5/testblocks":"https://app.brightid.org/node/v5/testblocks",a.prev=1,a.t0=e,a.next="verification"===a.t0?5:"sponsorship"===a.t0?9:"link"===a.t0?13:17;break;case 5:return a.next=7,o.default.delete("".concat(i,"/").concat(n,"/verification/").concat(s),{params:{testingKey:t}});case 7:return u=a.sent,a.abrupt("break",18);case 9:return a.next=11,o.default.delete("".concat(i,"/").concat(n,"/sponsorship/").concat(s),{params:{testingKey:t}});case 11:return u=a.sent,a.abrupt("break",18);case 13:return a.next=15,o.default.delete("".concat(i,"/").concat(n,"/link/").concat(s),{params:{testingKey:t}});case 15:return u=a.sent,a.abrupt("break",18);case 17:return a.abrupt("return",{});case 18:return console.log(u),a.abrupt("return",u.data);case 22:return a.prev=22,a.t1=a.catch(1),console.log(a.t1.response),a.abrupt("return",{status:a.t1.response.status,statusText:a.t1.response.statusText,data:a.t1.response.data});case 26:case"end":return a.stop()}}),r,null,[[1,22]])})))}},122:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),s=n(68),o=n.n(s),c=(n(82),n(14)),i=n.n(c),u=n(34),l=n(4),p=n(143),d=n(147),f=n(135),v=n(136),b=n(137),h=n(146),m=n(145),g=n(138),x=n(139),k=n(140),E=n(141),y=n(142),w=n(24),C=n(69),O=n.n(C),S=n(144);var j=function(){var e=r.a.useState(),t=Object(l.a)(e,2),n=t[0],a=t[1],s=r.a.useState(),o=Object(l.a)(s,2),c=o[0],C=o[1],j=r.a.useState(),D=Object(l.a)(j,2),T=D[0],_=D[1],B=r.a.useState(),I=Object(l.a)(B,2),W=I[0],K=I[1],z=r.a.useState(),U=Object(l.a)(z,2),P=U[0],A=U[1],J=r.a.useState(),M=Object(l.a)(J,2),R=M[0],N=M[1],L=r.a.useState(0),q=Object(l.a)(L,2),G=q[0],Q=q[1],$=r.a.useState(),F=Object(l.a)($,2),H=F[0],V=F[1],X=function(){var e=Object(u.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(w.verifyContextId)(W,P);case 2:t=e.sent,a(t),V(JSON.stringify(t,null,2)),console.log(t);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Y=function(){var e=Object(u.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(w.sponsor)(c,W,P);case 2:t=e.sent,V(JSON.stringify(t,null,2)),console.log(t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Z=function(){var e=Object(u.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(w.putTestingBlock)(t,T,W,P);case 2:n=e.sent,V(JSON.stringify(n,null,2)),console.log(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ee=function(){var e=Object(u.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(w.removeTestingBlock)(t,T,W,P);case 2:n=e.sent,V(JSON.stringify(n,null,2)),console.log(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.useEffect((function(){N(W&&P?Object(w.generateDeeplink)(W,P):"")}),[W,P]),r.a.useEffect((function(){W&&Object(w.availableSponsorships)(W).then((function(e){"number"===typeof e&&Q(e)}))}),[W]),r.a.createElement(p.a,null,r.a.createElement(d.b,{align:"center",w:"100%",px:"10%"},r.a.createElement(f.a,null,"BrightID Test App"),r.a.createElement(v.a,{borderWidth:"1px",borderColor:"grey.300",p:"5px",minWidth:"200px"},r.a.createElement(f.a,{size:"sm"},"Application Context"),r.a.createElement(d.a,null,r.a.createElement(d.b,null,r.a.createElement(b.a,{my:"5px",placeholder:"Context",value:W,onChange:function(e){return K(e.target.value)}}),r.a.createElement(b.a,{placeholder:"ContextId",value:P,onChange:function(e){return A(e.target.value)}}),r.a.createElement(h.a,{onClick:function(){A(Object(S.a)())}},"Generate ContextId")),r.a.createElement(d.b,null,r.a.createElement(f.a,{size:"xs"},"Linking QR Code"),r.a.createElement(m.a,{isLoaded:""!==R},r.a.createElement(O.a,{value:R||""})),r.a.createElement(m.a,{isLoaded:""!==R},r.a.createElement(g.a,{color:"blue.700",w:"128px",overflow:"ellipsis",href:R},"Clickable link"))))),r.a.createElement(v.a,{borderWidth:"1px",borderColor:"grey.300",p:"5px",minWidth:"200px"},r.a.createElement(f.a,{size:"sm"},"ContextID Status"),r.a.createElement(x.a,{direction:"row"},r.a.createElement(d.b,{align:"start"},r.a.createElement(d.a,{mb:"5px"},r.a.createElement(h.a,{w:"200px",onClick:X,isDisabled:!W||!P},"Check status"),r.a.createElement(k.a,{w:"250px"},"Status verified: ",n&&n.hasOwnProperty("unique")?n.unique.toString():"unknown ")),r.a.createElement(d.a,null,r.a.createElement(h.a,{w:"200px",onClick:Y,isDisabled:!c||!W||!P},"Sponsor"),r.a.createElement(k.a,{w:"250px"},"Available sponsorships: ",G))),r.a.createElement(v.a,null,r.a.createElement(f.a,{size:"xs"},"Node Response"),r.a.createElement(E.a,null,r.a.createElement(y.a,{height:"200px",fontSize:10,value:H,isReadOnly:!0}))))),r.a.createElement(v.a,{borderWidth:"1px",borderColor:"grey.300",p:"5px"},r.a.createElement(f.a,{size:"sm"},"Application Keys"),r.a.createElement(b.a,{my:"5px",placeholder:"Sponsor Private Key",value:c,onChange:function(e){return C(e.target.value)}}),r.a.createElement(b.a,{placeholder:"Testing Key",value:T,onChange:function(e){return _(e.target.value)}})),r.a.createElement(v.a,{borderWidth:"1px",borderColor:"grey.300",p:"5px",minWidth:"200px"},r.a.createElement(f.a,{size:"sm"},"Set Test Blocks"),r.a.createElement(k.a,null,"Use these buttons to temporarily remove a context ID's status (verified/sponsored/linked) for a given context"),r.a.createElement(d.a,{spacing:4},r.a.createElement(h.a,{onClick:function(){return Z("verification")},isDisabled:!T||!W||!P},"Unverify"),r.a.createElement(h.a,{onClick:function(){return Z("sponsorship")},isDisabled:!T||!W||!P},"Unsponsor"),r.a.createElement(h.a,{onClick:function(){return Z("link")},isDisabled:!T||!W||!P},"Unlink"))),r.a.createElement(v.a,{borderWidth:"1px",borderColor:"grey.300",p:"5px",minWidth:"200px"},r.a.createElement(f.a,{size:"sm"},"Remove Test Blocks"),r.a.createElement(k.a,null,"Use these buttons to remove test blocks previously set for a context ID's status (verified/sponsored/linked) for a given context"),r.a.createElement(d.a,{spacing:4},r.a.createElement(h.a,{onClick:function(){return ee("verification")},isDisabled:!T||!W||!P},"Delete Unverify"),r.a.createElement(h.a,{onClick:function(){return ee("sponsorship")},isDisabled:!T||!W||!P},"Delete Unsponsor"),r.a.createElement(h.a,{onClick:function(){return ee("link")},isDisabled:!T||!W||!P},"Delete Unlink")))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(j,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},24:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(84);t.generateDeeplink=a.generateDeeplink,t.verifyContextId=a.verifyContextId,t.sponsor=a.sponsor,t.availableSponsorships=a.availableSponsorships;var r=n(110);t.putTestingBlock=r.putTestingBlock,t.removeTestingBlock=r.removeTestingBlock},77:function(e,t,n){e.exports=n(122)},82:function(e,t,n){},84:function(e,t,n){"use strict";(function(e){var a=n(14),r=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))((function(r,s){function o(e){try{i(a.next(e))}catch(t){s(t)}}function c(e){try{i(a.throw(e))}catch(t){s(t)}}function i(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,c)}i((a=a.apply(e,t||[])).next())}))},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=s(n(44)),c=s(n(106)),i=s(n(107)),u=s(n(108));t.generateDeeplink=function(e,t,n){return"brightid://link-verification/".concat(n||"http:%2f%2fnode.brightid.org","/").concat(e,"/").concat(t)},t.verifyContextId=function(e,t,n){return r(void 0,void 0,void 0,a.mark((function r(){var s,c;return a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return s=n?n+"/node/v5/verifications":"https://app.brightid.org/node/v5/verifications",a.prev=1,a.next=4,o.default.get("".concat(s,"/").concat(e,"/").concat(t));case 4:return c=a.sent,console.log(c.data),a.abrupt("return",c.data.data);case 9:return a.prev=9,a.t0=a.catch(1),console.log(a.t0.response),a.abrupt("return",{status:a.t0.response.status,statusText:a.t0.response.statusText,data:a.t0.response.data});case 13:case"end":return a.stop()}}),r,null,[[1,9]])})))},t.sponsor=function(n,s,c,p){return r(void 0,void 0,void 0,a.mark((function r(){var d,f,v,b,h,m,g,x;return a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return d=p?p+"/node/v5/operations":"https://app.brightid.org/node/v5/operations",a.next=3,t.availableSponsorships(s,p);case 3:if(!("number"===typeof(f=a.sent)&&f<1)){a.next=6;break}return a.abrupt("return",{status:"error",statusReason:"no available sponsorships"});case 6:if("number"===typeof f){a.next=8;break}return a.abrupt("return",f);case 8:return v={name:"Sponsor",app:s,contextId:c,timestamp:Date.now(),v:5,sig:""},b=l(v),h=e.from(b),m=i.default.toByteArray(n),g=u.default.sign.detached(h,m),v.sig=i.default.fromByteArray(g),console.log(v),a.prev=15,a.next=18,o.default.post(d,v);case 18:return x=a.sent,console.log(x),a.abrupt("return",{status:"success",statusReason:x.data.data.hash});case 23:return a.prev=23,a.t0=a.catch(15),console.log(a.t0.response),a.abrupt("return",{status:a.t0.response.status,statusText:a.t0.response.statusText,data:a.t0.response.data});case 27:case"end":return a.stop()}}),r,null,[[15,23]])})))};var l=function(e){var t={};for(var n in e)["sig","sig1","sig2","hash"].includes(n)||(t[n]=e[n]);return c.default(t)};t.availableSponsorships=function(e,t){return r(void 0,void 0,void 0,a.mark((function n(){var r,s;return a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=t?t+"/node/v5/testblocks":"https://app.brightid.org/node/v5/apps",n.prev=1,n.next=4,o.default.get("".concat(r,"/").concat(e));case 4:return s=n.sent,console.log(s),n.abrupt("return",s.data.data.unusedSponsorships);case 9:return n.prev=9,n.t0=n.catch(1),console.log(n.t0.response),n.abrupt("return",{status:n.t0.response.status,statusText:n.t0.response.statusText,data:n.t0.response.data});case 13:case"end":return n.stop()}}),n,null,[[1,9]])})))}}).call(this,n(85).Buffer)}},[[77,1,2]]]);
//# sourceMappingURL=main.04101917.chunk.js.map